<catel:UserControl x:Class="TimedSequenceEditor.Forms.WPF.MarksDocker.Views.MarkCollectionExportRowView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:catel="http://schemas.catelproject.com"
             xmlns:viewModels="clr-namespace:TimedSequenceEditor.Forms.WPF.MarksDocker.ViewModels"
             xmlns:converters="clr-namespace:Common.WPFCommon.Converters;assembly=WPFCommon">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/WPFCommon;component/Theme/Theme.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <converters:ColorToSolidBrushConverter x:Key="ColorToSolidBrushConverter"/>
            <DataTemplate x:Key="MarkCollectionRowTemplate" DataType="{x:Type viewModels:MarkCollectionExportRowViewModel}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition SharedSizeGroup="A"/>
                        <ColumnDefinition SharedSizeGroup="B"/>
                        <ColumnDefinition Width="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Grid}, AncestorLevel=3}, Path=ColumnDefinitions[2].Width}"/>
                    </Grid.ColumnDefinitions>

                    <Border Background="{StaticResource BackColorBrush}" Grid.Column="0" BorderBrush="Transparent" BorderThickness="0,0,1,0" >
                        <CheckBox x:Name="IncludedOption" IsChecked="{Binding IsIncluded}" Style="{StaticResource ContentlessCheckBox}" VerticalAlignment="Center" HorizontalAlignment="Center" Margin="2,0,2,0"/>
                    </Border>
                    <Border Background="{StaticResource BackColorBrush}" Grid.Column="1" BorderBrush="Transparent" BorderThickness="0,0,1,0" 
                            Visibility="{Binding ElementName=TextIncludedOptionHeader, Path=Visibility}">
                        <CheckBox x:Name="TextIncludedOption" IsChecked="{Binding IsTextIncluded}" Style="{StaticResource ContentlessCheckBox}" VerticalAlignment="Center" HorizontalAlignment="Center" Margin="2,0,2,0"/>
                    </Border>
                    <Border Background="{StaticResource BackColorBrush}" Grid.Column="2" BorderBrush="Transparent" BorderThickness="0,0,1,0">
                        <TextBlock x:Name="ReadOnlyText" Text="{Binding MarkCollection.Name}" Foreground="{Binding MarkCollection.Decorator.Color,Converter={StaticResource ColorToSolidBrushConverter}}" Margin="2,3,2,3" MinWidth="50"/>
                    </Border>
                </Grid>
            </DataTemplate>
        </ResourceDictionary>

    </UserControl.Resources>

    <ContentControl ContentTemplate="{StaticResource MarkCollectionRowTemplate}" Content="{Binding }">
    </ContentControl>

</catel:UserControl>
