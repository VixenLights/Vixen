<UserControl x:Class="VixenApplication.SetupDisplay.Views.PropComponentTree"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:viewModels="clr-namespace:VixenApplication.SetupDisplay.ViewModels"
             xmlns:converters="clr-namespace:Common.WPFCommon.Converters;assembly=WPFCommon"
             xmlns:sys="clr-namespace:Vixen.Sys;assembly=Vixen.Core"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800"
             d:DataContext="{d:DesignInstance Type=viewModels:PropComponentTreeViewModel, IsDesignTimeCreatable=False}">

    <UserControl.Resources>

        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="../Themes/Theme.xaml"/>
            </ResourceDictionary.MergedDictionaries>

            <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
            <converters:BooleanToVisibilityConverter x:Key="InverseBooleanToVisibilityConverter" True="Collapsed" False="Visible"/>
        </ResourceDictionary>
    </UserControl.Resources>


    <Border BorderThickness="2" Background="{StaticResource BackgroundControlBrush}" BorderBrush="{StaticResource BorderColorBrush}">
        <TreeView x:Name="PropComponentsTreeView" Style="{StaticResource PropComponentTreeViewStyle}"
            ItemsSource="{Binding PropComponents}" 
            BorderThickness="0"
            VerticalAlignment="Stretch"
            HorizontalAlignment="Stretch"
            ScrollViewer.CanContentScroll="True"
            FocusManager.IsFocusScope="True"
            Width="Auto" Margin="5,5,10,5">

            <TreeView.Resources>
                <HierarchicalDataTemplate ItemsSource="{Binding TargetNodes}" DataType="{x:Type viewModels:PropComponentViewModel}">
                    <StackPanel Orientation="Horizontal">
                        <Image Source="/Resources;component/bullet_orange.png" Width="16" Height="16"/>
                        <TextBlock x:Name="ReadOnlyText" Text="{Binding Name}" Margin="0,2,0,2" Focusable="True"/>
                    </StackPanel>
                </HierarchicalDataTemplate>

                <HierarchicalDataTemplate ItemsSource="{Binding Children}" DataType="{x:Type viewModels:ElementNodeViewModel}">
                    <StackPanel Orientation="Horizontal">
                        <!--<Image Source="/Resources;component/bullet_purple.png" Width="16" Height="16" Visibility="{Binding IsGroupNode, Converter={StaticResource InverseBooleanToVisibilityConverter}}"/>-->
                        <TextBlock x:Name="ReadOnlyText" Text="{Binding Name}" Margin="0,2,0,2" Focusable="True"/>
                    </StackPanel>
                </HierarchicalDataTemplate>
                <!--<DataTemplate DataType="{x:Type sys:IElementNode}">
                    <TextBlock Text="{Binding Name}" Margin="0,2,0,2"></TextBlock>
                </DataTemplate>-->
            </TreeView.Resources>
            

        </TreeView>

    </Border>
</UserControl>
