<views:WizardPageViewBase x:Class="VixenApplication.SetupDisplay.Wizards.Views.TreePropWizardPageView"
                   xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                   xmlns:catel="http://schemas.catelproject.com"
                   xmlns:orccontrols="http://schemas.wildgums.com/orc/controls"
                   xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
                   xmlns:props="clr-namespace:Vixen.Sys.Props;assembly=Vixen.Core"
                   xmlns:markupExtensions="clr-namespace:Common.WPFCommon.MarkupExtensions;assembly=WPFCommon"
                   xmlns:converters="clr-namespace:Common.WPFCommon.Converters;assembly=WPFCommon"
				   xmlns:glWpfControl="clr-namespace:OpenTK.Wpf;assembly=GLWpfControl"
				   xmlns:views="clr-namespace:VixenApplication.SetupDisplay.Wizards.Views"
                   Loaded="PropWizardPageView_Loaded">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/SetupDisplay/Themes/Theme.xaml"/>
                <ResourceDictionary Source="pack://application:,,,/WPFCommon;component/Theme/Theme.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <markupExtensions:EnumBindingSourceExtension x:Key="EnumBindingSource"/>
            <converters:EnumValueTypeConverter x:Key="EnumValueTypeConverter"/>
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid Background="{StaticResource BackColorBrush}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
			<ColumnDefinition Width="500" />
        </Grid.ColumnDefinitions>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Label Grid.Column="0" Grid.Row="0" Content="Name" />
        <TextBox Grid.Column="1" Grid.Row="0"  Text="{Binding Name, ValidatesOnDataErrors=True, NotifyOnValidationError=True}" />

        <Label Grid.Column="0" Grid.Row="1" Content="String Count" />
        <TextBox Grid.Column="1" Grid.Row="1" Text="{Binding Strings, ValidatesOnDataErrors=True, NotifyOnValidationError=True}" >
            <b:Interaction.Behaviors>
                <catel:NumericTextBox />
            </b:Interaction.Behaviors>
        </TextBox>
        <Label Grid.Column="0" Grid.Row="2" Content="Nodes Per String" />
        <TextBox Grid.Column="1" Grid.Row="2" Text="{Binding NodesPerString, ValidatesOnDataErrors=True, NotifyOnValidationError=True}" >
            <b:Interaction.Behaviors>
                <catel:NumericTextBox />
            </b:Interaction.Behaviors>
        </TextBox>
        <Label Grid.Column="0" Grid.Row="3" Content="Light Type" />
        <ComboBox Grid.Column="1" Grid.Row="3" HorizontalAlignment="Stretch" VerticalAlignment="Center" 
                  ItemsSource="{Binding Source={ markupExtensions:EnumBindingSource {x:Type props:StringTypes}}}"
                 
                  SelectedItem="{Binding StringType, Converter={StaticResource EnumValueTypeConverter}, ConverterParameter={x:Type props:StringTypes}}"/>

		<Border BorderThickness="2"  Width="400" Grid.Column="2" Grid.Row="0" Grid.RowSpan="5"
            Height="400" Background="{StaticResource BackgroundControlBrush}" BorderBrush="{StaticResource BorderColorBrush}" Margin="5">
			
				<glWpfControl:GLWpfControl
				x:Name="OpenTkControl" 
				SizeChanged="OpenTkControl_SizeChanged"
                Render="OpenTkControl_OnRender"
				MouseWheel="OpenTkControl_MouseWheel"
                MouseDown="OpenTkControl_MouseDown"
                MouseMove="OpenTkControl_MouseMove"
                MouseUp="OpenTkControl_MouseUp">
					<glWpfControl:GLWpfControl.ContextMenu>
						<ContextMenu>

							<MenuItem Header="Center Preview"                          ToolTip="Repositions the viewpoint to the center of the preview." Command="{Binding CenterPreview}"/>
							<MenuItem Header="Enable Light Scaling" IsCheckable="True" ToolTip="Scales the light size as the camera is zoomed in or out." IsChecked="{Binding EnableLightScaling }"/>
							<!--<MenuItem Header="{Binding Location}"/> -->
						</ContextMenu>
					</glWpfControl:GLWpfControl.ContextMenu>
				</glWpfControl:GLWpfControl>
			</Border>


		    <ScrollViewer Grid.Row="5" Grid.Column="1">
				<ItemsControl ItemsSource="{Binding Rotations}">
					<ItemsControl.ItemTemplate>
						<DataTemplate>
							<StackPanel Orientation="Horizontal" Margin="5">
						<ComboBox Width="20" Height="20" 
                  ItemsSource="{Binding Axes}"
                  SelectedItem="{Binding Axis}" />
							<Slider Width="300" 
                Minimum="-180" Maximum="180"
                Value="{Binding RotationAngle}" />
								<TextBlock Width="40" Margin="5,0,0,0"
                   Text="{Binding RotationAngle, StringFormat=F0}" />
							</StackPanel>
						</DataTemplate>
					</ItemsControl.ItemTemplate>
				</ItemsControl>
			</ScrollViewer>


	</Grid>

</views:WizardPageViewBase>
